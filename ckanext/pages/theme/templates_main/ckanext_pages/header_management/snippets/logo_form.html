{% import 'macros/form.html' as form %}

<form method="post"
      action="{{ h.url_for('header_management.edit_logo', id=data.id) }}"
      enctype="multipart/form-data">
    {{ h.csrf_input() }}

    {# Arabic Logo Section #}
    <p class="boldfont mt-3">
        {{ _('Header Logo In Arabic') }}
        <span class="Recomndation ms-2">{{ _('Recomndation Size 250*55') }}</span>
    </p>
    <div class="row">
        <div class="col-md-9">
            <div class="file-container">
                <input type="file"
                       id="logo_ar"
                       name="logo_ar"
                       accept="image/*"
                       class="hidden-file-input"
                       data-filename="{{ data.logo_en_filename or '' }}">
                <span class="file-name">{{ data.logo_ar_filename or 'No file chosen' }}</span>
            </div>
        </div>
        <div class="col-md-3">
            <button type="button" class="actionbtn mt-0 w-100" onclick="document.getElementById('logo_ar').click()">
                {{ _('Upload') }}
            </button>
        </div>
    </div>

    {# English Logo Section #}
    <p class="boldfont mt-3">
        {{ _('Header Logo In English') }}
        <span class="Recomndation ms-2">{{ _('Recomndation Size 250*55') }}</span>
    </p>
    <div class="row mt-3">
        <div class="col-md-9">
            <div class="file-container">
                <input type="file"
                       id="logo_en"
                       name="logo_en"
                       accept="image/*"
                       class="hidden-file-input"
                       data-filename="{{ data.logo_en_filename or '' }}">
                <span class="file-name">{{ data.logo_en_filename or 'No file chosen' }}</span>
            </div>
        </div>
        <div class="col-md-3">
            <button type="button" class="actionbtn mt-0 w-100" onclick="document.getElementById('logo_en').click()">
                {{ _('Upload') }}
            </button>
        </div>
    </div>

    <div class="d-flex flex-row mt-3 mb-3 justify-content-end mt-5">
        <button type="button" onclick="window.location='{{ h.url_for('header_management.index') }}'"
                class="redbtn d-inline-flex align-items-center justify-content-center me-2">{{ _('Cancel') }}</button>
        <button type="submit"
                class="graybtn d-inline-flex align-items-center justify-content-center">{{ _('Save') }}</button>
    </div>
</form>

<style>
    .file-container {
        display: flex;
        align-items: center;
        border: 1px solid #cdd3da;
        padding: 4px 17px;
        background: white;
        height: 40px; /* Maintain height */
    }

    .hidden-file-input {
        display: none;
    }

    .file-name {
        color: #555;
        font-size: 13px;
        margin-left: 10px; /* Adjust margin to keep space */
    }

    .Recomndation {
        color: #999;
        font-size: 14px;
    }

    .boldfont {
        font-weight: bold;
    }

    .actionbtn {
        background: #DA1F3D;
        color: white;
        border: none;
        padding: 6px 20px;
        border-radius: 4px;
    }

    .actionbtn:hover {
        background: #c01834;
        color: white;
    }

    .redbtn, .graybtn {
        min-width: 80px;
        height: 35px;
        padding: 6px 20px;
        border-radius: 4px;
        border: none;
    }

    .redbtn {
        background: #DA1F3D;
        color: white;
    }

    .graybtn {
        background: #607D8B;
        color: white;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        document.querySelectorAll('.hidden-file-input').forEach(input => {
            input.addEventListener('change', function () {
                const fileName = this.files[0] ? this.files[0].name : 'No file chosen';
                this.nextElementSibling.textContent = fileName;
            });
        });
    });
</script>
