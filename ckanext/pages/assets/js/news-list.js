this.ckan.module("news-actions",(function(i){"use strict";return{options:{subjectId:null,subjectType:null,ajaxReload:null},initialize:function(){console.log("news-actions module initialized"),i.proxyAll(this,/_on/),this.$(".news-actions .news-visibility-toggler").on("click",this._onToggleNews)},teardown:function(){this.$(".news-action.news-visibility-toggler").off("click",this._onToggleNews)},_onToggleNews:function(o){console.log("Toggle button clicked");var n=o.currentTarget.dataset.id,t=this.options.ajaxReload;this.sandbox.client.call("POST","ckanext_news_toggle_visibility",{id:n},(function(o){console.log("Visibility toggled"),t?(i(".modal").modal("hide"),i(document).trigger("news:changed")):window.location.reload()}))}}}));